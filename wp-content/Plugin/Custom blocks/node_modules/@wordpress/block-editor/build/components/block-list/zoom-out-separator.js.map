{"version":3,"names":["_clsx","_interopRequireDefault","require","_components","_compose","_data","_element","_i18n","_store","_lockUnlock","_jsxRuntime","ZoomOutSeparator","clientId","rootClientId","position","isDraggedOver","setIsDraggedOver","useState","sectionRootClientId","sectionClientIds","insertionPoint","blockInsertionPointVisible","blockInsertionPoint","useSelect","select","getInsertionPoint","getBlockOrder","getSectionRootClientId","isBlockInsertionPointVisible","getBlockInsertionPoint","unlock","blockEditorStore","root","sectionRootClientIds","blockOrder","isReducedMotion","useReducedMotion","isVisible","isSectionBlock","includes","hasTopInsertionPoint","index","hasBottomInsertionPoint","hasOwnProperty","jsx","__unstableAnimatePresence","children","__unstableMotion","div","as","layout","initial","height","animate","exit","transition","type","duration","ease","className","clsx","onDragOver","onDragLeave","opacity","__"],"sources":["@wordpress/block-editor/src/components/block-list/zoom-out-separator.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { useReducedMotion } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nexport function ZoomOutSeparator( {\n\tclientId,\n\trootClientId = '',\n\tposition = 'top',\n} ) {\n\tconst [ isDraggedOver, setIsDraggedOver ] = useState( false );\n\tconst {\n\t\tsectionRootClientId,\n\t\tsectionClientIds,\n\t\tinsertionPoint,\n\t\tblockInsertionPointVisible,\n\t\tblockInsertionPoint,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetInsertionPoint,\n\t\t\tgetBlockOrder,\n\t\t\tgetSectionRootClientId,\n\t\t\tisBlockInsertionPointVisible,\n\t\t\tgetBlockInsertionPoint,\n\t\t} = unlock( select( blockEditorStore ) );\n\n\t\tconst root = getSectionRootClientId();\n\t\tconst sectionRootClientIds = getBlockOrder( root );\n\t\treturn {\n\t\t\tsectionRootClientId: root,\n\t\t\tsectionClientIds: sectionRootClientIds,\n\t\t\tblockOrder: getBlockOrder( root ),\n\t\t\tinsertionPoint: getInsertionPoint(),\n\t\t\tblockInsertionPoint: getBlockInsertionPoint(),\n\t\t\tblockInsertionPointVisible: isBlockInsertionPointVisible(),\n\t\t};\n\t}, [] );\n\n\tconst isReducedMotion = useReducedMotion();\n\n\tif ( ! clientId ) {\n\t\treturn;\n\t}\n\n\tlet isVisible = false;\n\n\tconst isSectionBlock =\n\t\trootClientId === sectionRootClientId &&\n\t\tsectionClientIds &&\n\t\tsectionClientIds.includes( clientId );\n\n\tif ( ! isSectionBlock ) {\n\t\treturn null;\n\t}\n\n\tconst hasTopInsertionPoint =\n\t\tinsertionPoint?.index === 0 &&\n\t\tclientId === sectionClientIds[ insertionPoint.index ];\n\tconst hasBottomInsertionPoint =\n\t\tinsertionPoint &&\n\t\tinsertionPoint.hasOwnProperty( 'index' ) &&\n\t\tclientId === sectionClientIds[ insertionPoint.index - 1 ];\n\t// We want to show the zoom out separator in either of these conditions:\n\t// 1. If the inserter has an insertion index set\n\t// 2. We are dragging a pattern over an insertion point\n\tif ( position === 'top' ) {\n\t\tisVisible =\n\t\t\thasTopInsertionPoint ||\n\t\t\t( blockInsertionPointVisible &&\n\t\t\t\tblockInsertionPoint.index === 0 &&\n\t\t\t\tclientId === sectionClientIds[ blockInsertionPoint.index ] );\n\t}\n\n\tif ( position === 'bottom' ) {\n\t\tisVisible =\n\t\t\thasBottomInsertionPoint ||\n\t\t\t( blockInsertionPointVisible &&\n\t\t\t\tclientId ===\n\t\t\t\t\tsectionClientIds[ blockInsertionPoint.index - 1 ] );\n\t}\n\n\treturn (\n\t\t<AnimatePresence>\n\t\t\t{ isVisible && (\n\t\t\t\t<motion.div\n\t\t\t\t\tas=\"button\"\n\t\t\t\t\tlayout={ ! isReducedMotion }\n\t\t\t\t\tinitial={ { height: 0 } }\n\t\t\t\t\tanimate={ { height: '120px' } }\n\t\t\t\t\texit={ { height: 0 } }\n\t\t\t\t\ttransition={ {\n\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\tduration: 0.2,\n\t\t\t\t\t\tease: [ 0.6, 0, 0.4, 1 ],\n\t\t\t\t\t} }\n\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t'block-editor-block-list__zoom-out-separator',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'is-dragged-over': isDraggedOver,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t\tdata-is-insertion-point=\"true\"\n\t\t\t\t\tonDragOver={ () => setIsDraggedOver( true ) }\n\t\t\t\t\tonDragLeave={ () => setIsDraggedOver( false ) }\n\t\t\t\t>\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tinitial={ { opacity: 0 } }\n\t\t\t\t\t\tanimate={ { opacity: 1 } }\n\t\t\t\t\t\texit={ { opacity: 0 } }\n\t\t\t\t\t\ttransition={ {\n\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\tduration: 0.1,\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Drop pattern.' ) }\n\t\t\t\t\t</motion.div>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t</AnimatePresence>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}