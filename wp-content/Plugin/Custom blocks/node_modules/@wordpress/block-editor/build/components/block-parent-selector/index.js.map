{"version":3,"names":["_blocks","require","_components","_data","_i18n","_element","_useBlockDisplayInformation","_interopRequireDefault","_blockIcon","_utils","_store","_lockUnlock","_jsxRuntime","BlockParentSelector","selectBlock","useDispatch","blockEditorStore","parentClientId","isVisible","useSelect","select","getBlockName","getBlockParents","getSelectedBlockClientId","getBlockEditingMode","getParentSectionBlock","unlock","hasBlockSupport","blocksStore","selectedBlockClientId","parentSection","parents","_parentClientId","length","parentBlockName","_parentBlockType","getBlockType","blockInformation","useBlockDisplayInformation","nodeRef","useRef","showHoveredOrFocusedGestures","useShowHoveredOrFocusedGestures","ref","highlightParent","jsx","className","children","ToolbarButton","onClick","label","sprintf","__","title","showTooltip","icon","default"],"sources":["@wordpress/block-editor/src/components/block-parent-selector/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { getBlockType, store as blocksStore } from '@wordpress/blocks';\nimport { ToolbarButton } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useBlockDisplayInformation from '../use-block-display-information';\nimport BlockIcon from '../block-icon';\nimport { useShowHoveredOrFocusedGestures } from '../block-toolbar/utils';\nimport { store as blockEditorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\n/**\n * Block parent selector component, displaying the hierarchy of the\n * current block selection as a single icon to \"go up\" a level.\n *\n * @return {Component} Parent block selector.\n */\nexport default function BlockParentSelector() {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\tconst { parentClientId, isVisible } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetBlockName,\n\t\t\tgetBlockParents,\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockEditingMode,\n\t\t\tgetParentSectionBlock,\n\t\t} = unlock( select( blockEditorStore ) );\n\t\tconst { hasBlockSupport } = select( blocksStore );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\tconst parentSection = getParentSectionBlock( selectedBlockClientId );\n\t\tconst parents = getBlockParents( selectedBlockClientId );\n\t\tconst _parentClientId = parentSection ?? parents[ parents.length - 1 ];\n\t\tconst parentBlockName = getBlockName( _parentClientId );\n\t\tconst _parentBlockType = getBlockType( parentBlockName );\n\t\treturn {\n\t\t\tparentClientId: _parentClientId,\n\t\t\tisVisible:\n\t\t\t\t_parentClientId &&\n\t\t\t\tgetBlockEditingMode( _parentClientId ) !== 'disabled' &&\n\t\t\t\thasBlockSupport(\n\t\t\t\t\t_parentBlockType,\n\t\t\t\t\t'__experimentalParentSelector',\n\t\t\t\t\ttrue\n\t\t\t\t),\n\t\t};\n\t}, [] );\n\tconst blockInformation = useBlockDisplayInformation( parentClientId );\n\n\t// Allows highlighting the parent block outline when focusing or hovering\n\t// the parent block selector within the child.\n\tconst nodeRef = useRef();\n\tconst showHoveredOrFocusedGestures = useShowHoveredOrFocusedGestures( {\n\t\tref: nodeRef,\n\t\thighlightParent: true,\n\t} );\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"block-editor-block-parent-selector\"\n\t\t\tkey={ parentClientId }\n\t\t\tref={ nodeRef }\n\t\t\t{ ...showHoveredOrFocusedGestures }\n\t\t>\n\t\t\t<ToolbarButton\n\t\t\t\tclassName=\"block-editor-block-parent-selector__button\"\n\t\t\t\tonClick={ () => selectBlock( parentClientId ) }\n\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t/* translators: %s: Name of the block's parent. */\n\t\t\t\t\t__( 'Select parent block: %s' ),\n\t\t\t\t\tblockInformation?.title\n\t\t\t\t) }\n\t\t\t\tshowTooltip\n\t\t\t\ticon={ <BlockIcon icon={ blockInformation?.icon } /> }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"mappings":";;;;;;;AAGA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AACA,IAAAI,QAAA,GAAAJ,OAAA;AAKA,IAAAK,2BAAA,GAAAC,sBAAA,CAAAN,OAAA;AACA,IAAAO,UAAA,GAAAD,sBAAA,CAAAN,OAAA;AACA,IAAAQ,MAAA,GAAAR,OAAA;AACA,IAAAS,MAAA,GAAAT,OAAA;AACA,IAAAU,WAAA,GAAAV,OAAA;AAA2C,IAAAW,WAAA,GAAAX,OAAA;AAhB3C;AACA;AACA;;AAOA;AACA;AACA;;AAOA;AACA;AACA;AACA;AACA;AACA,GACe,SAASY,mBAAmBA,CAAA,EAAG;EAC7C,MAAM;IAAEC;EAAY,CAAC,GAAG,IAAAC,iBAAW,EAAEC,YAAiB,CAAC;EACvD,MAAM;IAAEC,cAAc;IAAEC;EAAU,CAAC,GAAG,IAAAC,eAAS,EAAIC,MAAM,IAAM;IAC9D,MAAM;MACLC,YAAY;MACZC,eAAe;MACfC,wBAAwB;MACxBC,mBAAmB;MACnBC;IACD,CAAC,GAAG,IAAAC,kBAAM,EAAEN,MAAM,CAAEJ,YAAiB,CAAE,CAAC;IACxC,MAAM;MAAEW;IAAgB,CAAC,GAAGP,MAAM,CAAEQ,aAAY,CAAC;IACjD,MAAMC,qBAAqB,GAAGN,wBAAwB,CAAC,CAAC;IACxD,MAAMO,aAAa,GAAGL,qBAAqB,CAAEI,qBAAsB,CAAC;IACpE,MAAME,OAAO,GAAGT,eAAe,CAAEO,qBAAsB,CAAC;IACxD,MAAMG,eAAe,GAAGF,aAAa,aAAbA,aAAa,cAAbA,aAAa,GAAIC,OAAO,CAAEA,OAAO,CAACE,MAAM,GAAG,CAAC,CAAE;IACtE,MAAMC,eAAe,GAAGb,YAAY,CAAEW,eAAgB,CAAC;IACvD,MAAMG,gBAAgB,GAAG,IAAAC,oBAAY,EAAEF,eAAgB,CAAC;IACxD,OAAO;MACNjB,cAAc,EAAEe,eAAe;MAC/Bd,SAAS,EACRc,eAAe,IACfR,mBAAmB,CAAEQ,eAAgB,CAAC,KAAK,UAAU,IACrDL,eAAe,CACdQ,gBAAgB,EAChB,8BAA8B,EAC9B,IACD;IACF,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EACP,MAAME,gBAAgB,GAAG,IAAAC,mCAA0B,EAAErB,cAAe,CAAC;;EAErE;EACA;EACA,MAAMsB,OAAO,GAAG,IAAAC,eAAM,EAAC,CAAC;EACxB,MAAMC,4BAA4B,GAAG,IAAAC,sCAA+B,EAAE;IACrEC,GAAG,EAAEJ,OAAO;IACZK,eAAe,EAAE;EAClB,CAAE,CAAC;EAEH,IAAK,CAAE1B,SAAS,EAAG;IAClB,OAAO,IAAI;EACZ;EAEA,oBACC,IAAAN,WAAA,CAAAiC,GAAA;IACCC,SAAS,EAAC,oCAAoC;IAE9CH,GAAG,EAAGJ,OAAS;IAAA,GACVE,4BAA4B;IAAAM,QAAA,eAEjC,IAAAnC,WAAA,CAAAiC,GAAA,EAAC3C,WAAA,CAAA8C,aAAa;MACbF,SAAS,EAAC,4CAA4C;MACtDG,OAAO,EAAGA,CAAA,KAAMnC,WAAW,CAAEG,cAAe,CAAG;MAC/CiC,KAAK,EAAG,IAAAC,aAAO,GACd;MACA,IAAAC,QAAE,EAAE,yBAA0B,CAAC,EAC/Bf,gBAAgB,EAAEgB,KACnB,CAAG;MACHC,WAAW;MACXC,IAAI,eAAG,IAAA3C,WAAA,CAAAiC,GAAA,EAACrC,UAAA,CAAAgD,OAAS;QAACD,IAAI,EAAGlB,gBAAgB,EAAEkB;MAAM,CAAE;IAAG,CACtD;EAAC,GAdItC,cAeF,CAAC;AAER","ignoreList":[]}