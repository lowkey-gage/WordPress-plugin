{"version":3,"names":["__experimentalUseSlotFills","useSlotFills","useSelect","InspectorControlsGroups","useIsListViewTabDisabled","InspectorAdvancedControls","TAB_LIST_VIEW","TAB_SETTINGS","TAB_STYLES","store","blockEditorStore","EMPTY_ARRAY","getShowTabs","blockName","tabSettings","undefined","default","useInspectorControlsTabs","tabs","bindings","bindingsGroup","border","borderGroup","color","colorGroup","defaultGroup","dimensions","dimensionsGroup","list","listGroup","position","positionGroup","styles","stylesGroup","typography","typographyGroup","effects","effectsGroup","listViewDisabled","listFills","Slot","__unstableName","hasListFills","length","styleFills","hasStyleFills","advancedFills","slotName","settingsFills","push","select","getSettings","blockInspectorTabs","showTabs"],"sources":["@wordpress/block-editor/src/components/inspector-controls-tabs/use-inspector-controls-tabs.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __experimentalUseSlotFills as useSlotFills } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport InspectorControlsGroups from '../inspector-controls/groups';\nimport useIsListViewTabDisabled from './use-is-list-view-tab-disabled';\nimport { InspectorAdvancedControls } from '../inspector-controls';\nimport { TAB_LIST_VIEW, TAB_SETTINGS, TAB_STYLES } from './utils';\nimport { store as blockEditorStore } from '../../store';\n\nconst EMPTY_ARRAY = [];\n\nfunction getShowTabs( blockName, tabSettings = {} ) {\n\t// Block specific setting takes precedence over generic default.\n\tif ( tabSettings[ blockName ] !== undefined ) {\n\t\treturn tabSettings[ blockName ];\n\t}\n\n\t// Use generic default if set over the Gutenberg experiment option.\n\tif ( tabSettings.default !== undefined ) {\n\t\treturn tabSettings.default;\n\t}\n\n\treturn true;\n}\n\nexport default function useInspectorControlsTabs( blockName ) {\n\tconst tabs = [];\n\tconst {\n\t\tbindings: bindingsGroup,\n\t\tborder: borderGroup,\n\t\tcolor: colorGroup,\n\t\tdefault: defaultGroup,\n\t\tdimensions: dimensionsGroup,\n\t\tlist: listGroup,\n\t\tposition: positionGroup,\n\t\tstyles: stylesGroup,\n\t\ttypography: typographyGroup,\n\t\teffects: effectsGroup,\n\t} = InspectorControlsGroups;\n\n\t// List View Tab: If there are any fills for the list group add that tab.\n\tconst listViewDisabled = useIsListViewTabDisabled( blockName );\n\tconst listFills = useSlotFills( listGroup.Slot.__unstableName );\n\tconst hasListFills = ! listViewDisabled && !! listFills && listFills.length;\n\n\t// Styles Tab: Add this tab if there are any fills for block supports\n\t// e.g. border, color, spacing, typography, etc.\n\tconst styleFills = [\n\t\t...( useSlotFills( borderGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( colorGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( dimensionsGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( stylesGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( typographyGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( effectsGroup.Slot.__unstableName ) || [] ),\n\t];\n\tconst hasStyleFills = styleFills.length;\n\n\t// Settings Tab: If we don't have multiple tabs to display\n\t// (i.e. both list view and styles), check only the default and position\n\t// InspectorControls slots. If we have multiple tabs, we'll need to check\n\t// the advanced controls slot as well to ensure they are rendered.\n\tconst advancedFills = [\n\t\t...( useSlotFills( InspectorAdvancedControls.slotName ) || [] ),\n\t\t...( useSlotFills( bindingsGroup.Slot.__unstableName ) || [] ),\n\t];\n\n\tconst settingsFills = [\n\t\t...( useSlotFills( defaultGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( positionGroup.Slot.__unstableName ) || [] ),\n\t\t...( hasListFills && hasStyleFills > 1 ? advancedFills : [] ),\n\t];\n\n\t// Add the tabs in the order that they will default to if available.\n\t// List View > Settings > Styles.\n\tif ( hasListFills ) {\n\t\ttabs.push( TAB_LIST_VIEW );\n\t}\n\n\tif ( settingsFills.length ) {\n\t\ttabs.push( TAB_SETTINGS );\n\t}\n\n\tif ( hasStyleFills ) {\n\t\ttabs.push( TAB_STYLES );\n\t}\n\n\tconst tabSettings = useSelect( ( select ) => {\n\t\treturn select( blockEditorStore ).getSettings().blockInspectorTabs;\n\t}, [] );\n\n\tconst showTabs = getShowTabs( blockName, tabSettings );\n\treturn showTabs ? tabs : EMPTY_ARRAY;\n}\n"],"mappings":"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","ignoreList":[]}