{"version":3,"names":["_react","_interopRequireWildcard","require","Ariakit","_warning","_interopRequireDefault","_element","_compose","_context","_styles","_clsx","_elementRect","_useOnValueUpdate","_useTrackOverflow","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SCROLL_MARGIN","TabList","exports","forwardRef","children","otherProps","ref","_useTabsContext","store","useTabsContext","selectedId","useStoreState","activeId","selectOnMove","items","parent","setParent","useState","refs","useMergeRefs","overflow","useTrackOverflow","first","at","element","last","selectedTabPosition","useTrackElementOffsetRect","item","animationEnabled","setAnimationEnabled","useOnValueUpdate","previousValue","useLayoutEffect","scrollLeft","parentScroll","parentWidth","getBoundingClientRect","width","left","childLeft","childWidth","parentRightEdge","childRightEdge","rightOverflow","leftOverflow","onBlur","setActiveId","globalThis","SCRIPT_DEBUG","warning","jsx","render","TabListWrapper","onTransitionEnd","event","pseudoElement","tabIndex","style","top","right","height","className","clsx"],"sources":["@wordpress/components/src/tabs/tablist.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport * as Ariakit from '@ariakit/react';\nimport { useStoreState } from '@ariakit/react';\n\n/**\n * WordPress dependencies\n */\nimport warning from '@wordpress/warning';\nimport { forwardRef, useLayoutEffect, useState } from '@wordpress/element';\nimport { useMergeRefs } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport type { TabListProps } from './types';\nimport { useTabsContext } from './context';\nimport { TabListWrapper } from './styles';\nimport type { WordPressComponentProps } from '../context';\nimport clsx from 'clsx';\nimport { useTrackElementOffsetRect } from '../utils/element-rect';\nimport { useOnValueUpdate } from '../utils/hooks/use-on-value-update';\nimport { useTrackOverflow } from './use-track-overflow';\n\nconst SCROLL_MARGIN = 24;\n\nexport const TabList = forwardRef<\n\tHTMLDivElement,\n\tWordPressComponentProps< TabListProps, 'div', false >\n>( function TabList( { children, ...otherProps }, ref ) {\n\tconst { store } = useTabsContext() ?? {};\n\n\tconst selectedId = useStoreState( store, 'selectedId' );\n\tconst activeId = useStoreState( store, 'activeId' );\n\tconst selectOnMove = useStoreState( store, 'selectOnMove' );\n\tconst items = useStoreState( store, 'items' );\n\tconst [ parent, setParent ] = useState< HTMLElement | null >();\n\tconst refs = useMergeRefs( [ ref, setParent ] );\n\tconst overflow = useTrackOverflow( parent, {\n\t\tfirst: items?.at( 0 )?.element,\n\t\tlast: items?.at( -1 )?.element,\n\t} );\n\n\tconst selectedTabPosition = useTrackElementOffsetRect(\n\t\tstore?.item( selectedId )?.element\n\t);\n\n\tconst [ animationEnabled, setAnimationEnabled ] = useState( false );\n\tuseOnValueUpdate( selectedId, ( { previousValue } ) => {\n\t\tif ( previousValue ) {\n\t\t\tsetAnimationEnabled( true );\n\t\t}\n\t} );\n\n\t// Make sure selected tab is scrolled into view.\n\tuseLayoutEffect( () => {\n\t\tif ( ! parent || ! selectedTabPosition ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { scrollLeft: parentScroll } = parent;\n\t\tconst parentWidth = parent.getBoundingClientRect().width;\n\t\tconst { left: childLeft, width: childWidth } = selectedTabPosition;\n\n\t\tconst parentRightEdge = parentScroll + parentWidth;\n\t\tconst childRightEdge = childLeft + childWidth;\n\t\tconst rightOverflow = childRightEdge + SCROLL_MARGIN - parentRightEdge;\n\t\tconst leftOverflow = parentScroll - ( childLeft - SCROLL_MARGIN );\n\t\tif ( leftOverflow > 0 ) {\n\t\t\tparent.scrollLeft = parentScroll - leftOverflow;\n\t\t} else if ( rightOverflow > 0 ) {\n\t\t\tparent.scrollLeft = parentScroll + rightOverflow;\n\t\t}\n\t}, [ parent, selectedTabPosition ] );\n\n\tconst onBlur = () => {\n\t\tif ( ! selectOnMove ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// When automatic tab selection is on, make sure that the active tab is up\n\t\t// to date with the selected tab when leaving the tablist. This makes sure\n\t\t// that the selected tab will receive keyboard focus when tabbing back into\n\t\t// the tablist.\n\t\tif ( selectedId !== activeId ) {\n\t\t\tstore?.setActiveId( selectedId );\n\t\t}\n\t};\n\n\tif ( ! store ) {\n\t\twarning( '`Tabs.TabList` must be wrapped in a `Tabs` component.' );\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Ariakit.TabList\n\t\t\tref={ refs }\n\t\t\tstore={ store }\n\t\t\trender={\n\t\t\t\t<TabListWrapper\n\t\t\t\t\tonTransitionEnd={ ( event ) => {\n\t\t\t\t\t\tif ( event.pseudoElement === '::before' ) {\n\t\t\t\t\t\t\tsetAnimationEnabled( false );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t}\n\t\t\tonBlur={ onBlur }\n\t\t\ttabIndex={ -1 }\n\t\t\t{ ...otherProps }\n\t\t\tstyle={ {\n\t\t\t\t'--indicator-top': selectedTabPosition.top,\n\t\t\t\t'--indicator-right': selectedTabPosition.right,\n\t\t\t\t'--indicator-left': selectedTabPosition.left,\n\t\t\t\t'--indicator-width': selectedTabPosition.width,\n\t\t\t\t'--indicator-height': selectedTabPosition.height,\n\t\t\t\t...otherProps.style,\n\t\t\t} }\n\t\t\tclassName={ clsx(\n\t\t\t\toverflow.first && 'is-overflowing-first',\n\t\t\t\toverflow.last && 'is-overflowing-last',\n\t\t\t\tanimationEnabled && 'is-animation-enabled',\n\t\t\t\totherProps.className\n\t\t\t) }\n\t\t>\n\t\t\t{ children }\n\t\t</Ariakit.TabList>\n\t);\n} );\n"],"mappings":"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","ignoreList":[]}